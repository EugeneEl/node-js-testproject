(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports={SignIn:"signin_SignIn__2C5Ql",SignInInputs:"signin_SignInInputs__ziurQ",SignInButton:"signin_SignInButton__TwyGG",SignUpCreateAccountHint:"signin_SignUpCreateAccountHint__FMO5B",SignUpButton:"signin_SignUpButton__leYZi"}},27:function(e,t,n){e.exports={SignUp:"signup_SignUp__1vDvx",SignUpInputs:"signup_SignUpInputs__1FFxG",SignInHaveAccountHint:"signup_SignInHaveAccountHint__26q3d",SignUpButton:"signup_SignUpButton__1KPXN",SignInButton:"signup_SignInButton__3Bphw"}},30:function(e,t,n){e.exports={Shared:"header_Shared__20Rq-"}},34:function(e,t,n){e.exports={UI:"burgerButton_UI__pfISF",animated:"burgerButton_animated__2lJ5J"}},40:function(e){e.exports={profile_title:"Profile",sign_in_email_input:"Email",sign_in_password_input:"Password",sign_in_button_title:"Sign In",sign_in_no_account_hint:"Don't have account yet?",sign_in_sign_up_switch_title:"Sign Up",sign_in_name_input:"Name",sign_in_confirm_password_input:"Confirm password",sign_up_has_account_hint:"Already have account?",sign_up_button_title:"Sign Up",sign_up_sign_in_switch_title:"Sign in"}},41:function(e){e.exports={profile_title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",sign_in_email_input:"\u041f\u043e\u0447\u0442\u0430",sign_in_password_input:"\u041f\u0430\u0440\u043e\u043b\u044c",sign_in_button_title:"\u0412\u043e\u0439\u0442\u0438",sign_in_no_account_hint:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",sign_in_sign_up_switch_title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",sign_in_name_input:"\u0418\u043c\u044f",sign_in_confirm_password_input:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",sign_up_has_account_hint:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",sign_up_button_title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",sign_up_sign_in_switch_title:"\u0412\u043e\u0439\u0442\u0438"}},42:function(e,t,n){e.exports=n.p+"static/media/menu.33e41d22.svg"},44:function(e,t,n){e.exports={UI:"menuHorizontal_UI__2nfpY"}},45:function(e,t,n){e.exports={UI:"logo_UI__iXMI9"}},46:function(e,t,n){e.exports={UI:"button_UI__6xdbx"}},48:function(e,t,n){e.exports={UI:"sidebar_UI__2FM9m"}},49:function(e,t,n){e.exports={Shared:"mainSidebar_Shared__Gpxvc"}},50:function(e,t,n){e.exports={UI:"menuitems_UI__3tM8A"}},52:function(e,t,n){e.exports={signature:"main_signature__Pvlpj"}},55:function(e,t,n){e.exports={UI:"textInput_UI__1lJe5"}},57:function(e,t,n){e.exports=n(79)},66:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(20),o=n(4),c=n(24),s=n(11),u={en:n(40),ru:n(41)},l={language:"ru",t:function(e){return u[l.language][e]}},p={loaded:!1},_={authorized:!1},m={user:{}},g={visible:!1},d=Object(c.c)(Object(c.b)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_MAIN_LOADED":return Object(s.a)({},e,{loaded:!e.loaded});default:return e}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;switch((arguments.length>1?arguments[1]:void 0).type){case"SIGN_UP_TOGGLE":return Object(s.a)({},e,{authorized:!e.authorized});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(s.a)({},e,{user:t.payload});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_SHOW_SIDEBAR":return Object(s.a)({},e,{visible:!e.visible});default:return e}},translate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_APPLICATION_LANGUAGE":return Object(s.a)({},e,{language:t.payload,t:function(e){return u[t.payload][e]}});default:return e}}})),f=(n(66),n(3)),h=n.n(f),v=n(5),b=n(6),E=n(9),w=n(13),S=n(12),O=n(14),I=n(15),y=n(22),k=n(18),U=n(25),j=n.n(U),x=new(function(){function e(){Object(b.a)(this,e)}return Object(E.a)(e,[{key:"setToken",value:function(e){return j.a.setItem("token",e)}},{key:"getToken",value:function(){return j.a.getItem("token")}},{key:"setUserData",value:function(e){return j.a.setItem("user",e)}},{key:"getUserData",value:function(){return j.a.getItem("user")}}]),e}()),L=n(42),A=n.n(L),N=n(34),C=n.n(N),G=function(e){var t=e.imgSrc,n=void 0===t?A.a:t,a=e.onClick,r=void 0===a?function(){}:a,o=e.animated,c=void 0===o?"":o;return i.a.createElement("div",{className:C.a.UI},i.a.createElement("img",{className:c?C.a.animated:"",src:n,alt:"menu",onClick:r}))},T=n(43),B=n(44),D=n.n(B),H=function(e){var t=e.items,n=void 0===t?[]:t;return i.a.createElement("div",{className:D.a.UI},i.a.createElement(T.Menubar,{model:n}))},P=n(45),M=n.n(P),R=function(){return i.a.createElement("div",{className:M.a.UI},i.a.createElement("h1",null,"Calendar"))},F=n(46),z=n.n(F),q=function(e){var t=e.text,n=void 0===t?"":t,a=e.Link,r=e.to,o=e.styles,c=void 0===o?{}:o,s=e.onClick,u=e._class,l=void 0===u?"":u;return i.a.createElement("div",{style:c,className:"".concat(l," ").concat(z.a.UI)},a?i.a.createElement(a,{to:r},i.a.createElement("button",null,n)):i.a.createElement("button",{onClick:s},n))},J=n(30),K=n.n(J),W=[{label:"Home",icon:"pi pi-fw pi-power-off"},{label:"About",icon:"pi pi-fw pi-power-off"},{label:"Contacts",icon:"pi pi-fw pi-power-off"}],Q=Object(o.b)(function(e){return{visible:e.sidebar.visible}},function(e){return{toggleSidebar:function(){return e({type:"TOGGLE_SHOW_SIDEBAR"})}}})(function(e){var t=e.Link,n=e.toggleSidebar,a=e.visible;return i.a.createElement("header",{className:K.a.Shared},i.a.createElement(G,{animated:a,onClick:n,className:K.a.Burger}),i.a.createElement(H,{items:W,className:K.a.UpMenu}),i.a.createElement(R,null),i.a.createElement(q,{text:"LOG IN",Link:t,to:"signin",styles:{width:"20%"}}))}),X=n(47),Y=n(48),Z=n.n(Y),V=function(e){var t=e.content,n=void 0===t?"":t,a=e.visible,r=void 0!==a&&a,o=e.onHide,c=void 0===o?function(){}:o;return i.a.createElement("div",{className:Z.a.UI},i.a.createElement(X.Sidebar,{visible:r,onHide:c},n))},$=n(49),ee=n.n($),te=n(50),ne=n.n(te),ae=n(51),ie=function(e){var t=e.items,n=void 0===t?[]:t;return i.a.createElement("div",{className:ne.a.UI},i.a.createElement(ae.SlideMenu,{model:n}))},re=[{label:"Users",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]},{label:"Events",icon:"pi pi-fw pi-calendar",items:[{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Save",icon:"pi pi-fw pi-calendar-plus"},{label:"Delete",icon:"pi pi-fw pi-calendar-minus"}]},{label:"Archieve",icon:"pi pi-fw pi-calendar-times",items:[{label:"Remove",icon:"pi pi-fw pi-calendar-minus"}]}]},{separator:!0},{label:"Quit",icon:"pi pi-fw pi-power-off"}],oe=Object(o.b)(function(e){return{visible:e.sidebar.visible}},function(e){return{toggleSidebar:function(){return e({type:"TOGGLE_SHOW_SIDEBAR"})}}})(function(e){var t=e.visible,n=e.toggleSidebar;return i.a.createElement("div",{className:ee.a.Shared},i.a.createElement(V,{visible:t,onHide:n,content:i.a.createElement(ie,{items:re})}))}),ce="http://localhost:8000",se="api",ue=new function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(b.a)(this,e),this.request=function(){var e=Object(v.a)(h.a.mark(function e(t){var n,a,i,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.method,i=t.isAuth,r=t.body,o={},c={method:a},e.next=5,x.getToken();case 5:return s=e.sent,i&&(o.authorization="Bearer ".concat(s)),r&&(c.body=JSON.stringify(r)),o["content-type"]="application/json",c.headers=o,e.abrupt("return",fetch(n,c).then(function(e){return e.json()}).catch(function(){return{error:"Cannot connect to server"}}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return arguments.length>2&&void 0!==arguments[2]&&arguments[2],t.request({url:"".concat(t.URL,"/").concat(e),method:"GET",isAuth:n})},this.post=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({url:"".concat(t.URL,"/").concat(e),method:"POST",isAuth:n,body:a})},this.put=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.request({url:"".concat(t.URL,"/").concat(e),method:"PUT",isAuth:n,body:a})},this.delete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.request({url:"".concat(t.URL,"/").concat(e),method:"DELETE",isAuth:n})},this.URL="".concat(ce).concat(se?"/":"").concat(se,"/").concat(n)}("users"),le=n(52),pe=n.n(le),_e=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={usersList:[]},n.handleGetUsers=Object(v.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get();case 2:t=e.sent,n.setState({usersList:t});case 4:case"end":return e.stop()}},e)})),n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.usersList,t=void 0===e?[]:e;return i.a.createElement("div",{className:pe.a.Main},"Main Page",t.map(function(e,t){return i.a.createElement("div",{key:t},e.name," | ",e.email)}),i.a.createElement("button",{onClick:this.handleGetUsers},"Get users"))}}]),t}(i.a.PureComponent),me=Object(o.b)(function(e){return{loaded:e.main.loaded}},function(e){return{toggleLoaded:function(){return e({type:"TOGGLE_MAIN_LOADED"})}}})(_e),ge=n(21),de=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={},n.onChangeStateKey=function(e){return function(t){n.setState(Object(ge.a)({},e,t.target.value))}},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeLanguage,n=e.t,a=e.language;return i.a.createElement(i.a.Fragment,null,n("profile_title")," ",i.a.createElement("hr",null),a,i.a.createElement("button",{onClick:function(){return t("ru"===a?"en":"ru")}},"Change Language"))}}]),t}(i.a.PureComponent),fe=Object(o.b)(function(e){return{language:e.translate.language,t:e.translate.t}},function(e){return{changeLanguage:function(t){return e({type:"CHANGE_APPLICATION_LANGUAGE",payload:t})}}})(de),he=n(26),ve=n.n(he),be=n(55),Ee=n.n(be),we=function(e){var t=e.label,n=void 0===t?"":t,a=e.name,r=void 0===a?"":a,o=e.value,c=void 0===o?"":o,s=e.placeholder,u=void 0===s?"":s,l=e.type,p=void 0===l?"text":l,_=e.onChange,m=void 0===_?function(){}:_;return i.a.createElement("div",{className:Ee.a.UI},i.a.createElement("input",{label:n,type:p,placeholder:u,name:r,value:c,onChange:m}))},Se=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",confirm_password:"",errorMessage:"",success:!1},n.onChangeStateKey=function(e){return function(t){n.setState(Object(ge.a)({},e,t.target.value))}},n.handleSignIn=Object(v.a)(h.a.mark(function e(){var t,a,i,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.userAuth,a=n.state,i=a.email,r=a.password,t({email:i,password:r}).then(function(){}).catch(function(e){n.setState({error:e.message})});case 3:case"end":return e.stop()}},e)})),n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.Link,a=t.user,r=t.t;return(a||{}).token?i.a.createElement(y.a,{to:"/profile"}):i.a.createElement("div",{className:ve.a.SignIn},i.a.createElement("div",{className:ve.a.SignInInputs},[{name:r("sign_in_email_input"),ph:r("sign_in_email_input")},{name:r("sign_in_password_input"),ph:r("sign_in_password_input")}].map(function(t,n){return i.a.createElement(we,{key:n,label:"".concat(t.ph,":"),placeholder:t.ph,type:t.name.includes("password")?"password":"text",value:e.state[t.name],onChange:e.onChangeStateKey(t.name)})})),i.a.createElement(q,{className:"SignInButton",onClick:this.handleSignIn,text:r("sign_in_button_title")}),i.a.createElement("hr",null),i.a.createElement("div",{className:ve.a.SignUpCreateAccountHint},r("sign_in_no_account_hint")),i.a.createElement(n,{className:ve.a.SignUpButton,to:"/signup"},i.a.createElement(q,{text:r("sign_in_sign_up_switch_title")})))}}]),t}(i.a.PureComponent),Oe=function(e){return{toggleLoaded:function(){return e({type:"SIGN_IN_TOGGLE"})},userAuth:function(){var t=Object(v.a)(h.a.mark(function t(n){var a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.post("auth",!1,n);case 3:if(!(a=t.sent).error){t.next=6;break}throw new Error(a.error);case 6:if(a.token){t.next=8;break}throw new Error("Missing token!");case 8:x.setToken(a.token),x.setUserData(a),k.b.success("Success auth",{pauseOnFocusLoss:!1}),e({type:"SET_USER_DATA",payload:a}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),k.b.error(t.t0.message,{pauseOnFocusLoss:!1});case 17:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()}},Ie=Object(o.b)(function(e){return{user:e.profile.user,t:e.translate.t}},Oe)(Se),ye=n(27),ke=n.n(ye),Ue=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",name:"",password:"",confirm_password:"",errorMessage:"",success:!1},n.onChangeStateKey=function(e){return function(t){n.setState(Object(ge.a)({},e,t.target.value))}},n.handleSubmit=Object(v.a)(h.a.mark(function e(){var t,a,i,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.userRegister,a=n.state,i=a.name,r=a.email,o=a.password,t({name:i,email:r,password:o}).then(function(){}).catch(function(e){n.setState({error:e.message})});case 3:case"end":return e.stop()}},e)})),n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.Link,a=t.user,r=t.t;return(a||{}).token?i.a.createElement(y.a,{to:"/profile"}):i.a.createElement("div",{className:ke.a.SignUp},i.a.createElement("div",{className:ke.a.SignUpInputs},[{name:r("sign_in_email_input"),ph:r("sign_in_email_input")},{name:r("sign_in_name_input"),ph:r("sign_in_name_input")},{name:r("sign_in_password_input"),ph:r("sign_in_password_input")},{name:r("sign_in_confirm_password_input"),ph:r("sign_in_confirm_password_input")}].map(function(t,n){return i.a.createElement(we,{key:n,label:"".concat(t.ph,":"),placeholder:t.ph,value:e.state[t.name],onChange:e.onChangeStateKey(t.name)})})),i.a.createElement(q,{className:"SignUpButton",onClick:this.handleSubmit,text:r("sign_up_button_title")}),i.a.createElement("hr",null),i.a.createElement("div",{className:ke.a.SignInHaveAccountHint},r("sign_up_has_account_hint")),i.a.createElement(n,{className:ke.a.SignInButton,to:"/signin"},i.a.createElement(q,{text:r("sign_up_sign_in_switch_title")})))}}]),t}(i.a.PureComponent),je=function(e){return{toggleLoaded:function(){return e({type:"SIGN_UP_TOGGLE"})},userRegister:function(){var t=Object(v.a)(h.a.mark(function t(n){var a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.post("register",!1,n);case 3:if(!(a=t.sent).error){t.next=6;break}throw new Error(a.error);case 6:if(a.token){t.next=8;break}throw new Error("Missing token!");case 8:x.setToken(a.token),x.setUserData(a),k.b.success("Success auth",{pauseOnFocusLoss:!1}),e({type:"SET_USER_DATA",payload:a}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),k.b.error(t.t0.message,{pauseOnFocusLoss:!1});case 17:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()}},xe=Object(o.b)(function(e){return{authorized:e.signup.authorized,user:e.profile.user,t:e.translate.t}},je)(Ue),Le=function(){return i.a.createElement("div",null,"404 not found!")},Ae=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={isLoad:!1},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){var e=Object(v.a)(h.a.mark(function e(){var t,n,a,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.setUserData,a=t.user,e.next=3,x.getUserData();case 3:i=e.sent,a.token?this.setState({isLoad:!0}):(n(i),this.setState({isLoad:!0}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isLoad;return i.a.createElement(I.a,null,e?i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,{Link:I.b}),i.a.createElement(oe,{Link:I.b}),i.a.createElement(y.d,null,i.a.createElement(y.b,{exact:!0,path:"/",component:function(){return i.a.createElement(me,{Link:I.b})}}),i.a.createElement(y.b,{exact:!0,path:"/signup",component:function(){return i.a.createElement(xe,{Link:I.b})}}),i.a.createElement(y.b,{exact:!0,path:"/signin",component:function(){return i.a.createElement(Ie,{Link:I.b})}}),i.a.createElement(y.b,{exact:!0,path:"/profile",component:function(){return i.a.createElement(fe,{Link:I.b})}}),i.a.createElement(y.b,{exact:!0,path:"*",component:function(){return i.a.createElement(Le,null)}})),i.a.createElement(k.a,{position:k.b.POSITION.BOTTOM_RIGHT})):i.a.createElement("div",null,"Loading..."))}}]),t}(i.a.Component),Ne=Object(o.b)(function(e){return{user:e.profile.user}},function(e){return{setUserData:function(t){return e({type:"SET_USER_DATA",payload:t})}}})(Ae);n(75),n(76),n(77),n(78);Object(r.render)(i.a.createElement(o.a,{store:d},i.a.createElement(Ne,null)),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.e546c823.chunk.js.map